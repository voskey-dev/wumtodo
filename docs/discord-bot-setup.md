# Discord Bot セットアップガイド

## 概要
このガイドでは、wumtodo Discord Botをサーバーに追加し、初期設定を行う方法を説明します。

## 前提条件
- Discordサーバーの管理者権限
- wumtodoアカウント（Discord OAuth経由で作成）

## セットアップ手順

### 1. Discord Botの追加

1. [wumtodo Bot招待リンク](https://discord.com/api/oauth2/authorize?client_id=YOUR_APPLICATION_ID&permissions=2147483648&scope=bot%20applications.commands) をクリック
2. 追加したいサーバーを選択
3. 必要な権限を確認して「認証」をクリック

必要な権限:
- スラッシュコマンドの使用
- メッセージの送信
- スレッドの作成
- メッセージの埋め込み
- ファイルの添付
- メンションの使用

### 2. 初期設定コマンドの実行

Botをサーバーに追加したら、以下のコマンドを実行してwumtodoを初期化します：

```
/wumtodo setup
```

このコマンドは**サーバー管理者のみ**実行可能です。

### 3. セットアップの確認

セットアップが成功すると、以下の情報が表示されます：
- チーム名（Discordサーバー名）
- 管理者（コマンド実行者）
- 使用可能なコマンド一覧
- WebインターフェースのURL

## 既知の問題と解決方法

### Botを追加してもチームが表示されない

**原因**: Botを追加しただけではチームがデータベースに作成されません。

**解決方法**: 
1. サーバー管理者が `/wumtodo setup` コマンドを実行
2. または、任意のユーザーが最初のタスクコマンド（例: `/task create`）を実行

### スラッシュコマンドが表示されない

**原因**: Discordのコマンドキャッシュの問題

**解決方法**:
1. Discordクライアントを再起動
2. チャット入力欄で `/` を入力してコマンドリストを更新
3. しばらく待ってから再試行（最大1時間）

### 「このコマンドはサーバー内でのみ使用できます」エラー

**原因**: DMまたは他のサーバーでコマンドを実行している

**解決方法**: wumtodo Botが追加されているサーバーのチャンネルでコマンドを実行

## メンバーの追加方法

1. 新しいメンバーはDiscord OAuthでwumtodoにログイン
2. そのメンバーが任意のタスクコマンドを使用すると自動的にチームに追加
3. または、管理者がWebインターフェースから招待

## 権限管理

- **初期管理者**: `/wumtodo setup` を実行したユーザー
- **追加の管理者**: Webインターフェースから設定可能
- **一般メンバー**: タスクの作成・編集が可能

## トラブルシューティング

### セットアップコマンドが失敗する

1. Botに必要な権限があることを確認
2. コマンド実行者がサーバー管理者であることを確認
3. エラーメッセージを確認して対処

### チームが重複して作成される

この問題は発生しません。`/wumtodo setup` は既存のチームを検出し、重複作成を防ぎます。

## サポート

問題が解決しない場合は、以下の情報と共にサポートにお問い合わせください：
- サーバーID
- エラーメッセージのスクリーンショット
- 実行したコマンドの詳細